var re=Object.defineProperty,ae=Object.defineProperties;var ce=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var V=(t,e,s)=>e in t?re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,j=(t,e)=>{for(var s in e||(e={}))le.call(e,s)&&V(t,s,e[s]);if(U)for(var s of U(e))ie.call(e,s)&&V(t,s,e[s]);return t},B=(t,e)=>ae(t,ce(e));import{r as _,o as i,c as g,a as ue,b as _e,d as v,u as de,e as m,f as c,w as u,T as pe,g as me,K as fe,h as R,i as M,j as G,k as K,l as he,F as S,m as H,n as y,p as $,t as T,q as C,s as A,v as ve,x as w,y as f,z as L,A as q,B as Ee,C as O,D as ge,N as x,E as ye,G as be,H as xe,I as Ie,J as Pe,L as $e,M as Ce,O as Re,P as Se,Q as Te,R as Ae,S as we,U as Le,V as Oe}from"./vendor.5583d224.js";const ke=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}};ke();var k=(t,e)=>{const s=t.__vccOpts||t;for(const[o,n]of e)s[o]=n;return s};const De={};function Fe(t,e){const s=_("router-view");return i(),g(s)}var Ne=k(De,[["render",Fe]]);const Ue="modulepreload",z={},Ve="./",E=function(e,s){return!s||s.length===0?e():Promise.all(s.map(o=>{if(o=`${Ve}${o}`,o in z)return;z[o]=!0;const n=o.endsWith(".css"),r=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const a=document.createElement("link");if(a.rel=n?"stylesheet":Ue,n||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),n)return new Promise((l,b)=>{a.addEventListener("load",l),a.addEventListener("error",b)})})).then(()=>e())},W=[{path:"/",name:"Login",component:()=>E(()=>import("./Index.7b2936bf.js"),["assets/Index.7b2936bf.js","assets/Index.27f20a77.css","assets/vendor.5583d224.js"]),meta:{title:""}}],I=ue({history:_e({VUE_APP_SITE_NAME:"Vue3-Vite-ElementPlus-Admin",VUE_APP_PREFIX_ROUTE:"sys.blog"}.BASE_URL),routes:W}),je="USER_LOGIN",X="USER_LOGOUT",J="GENERATE_ROUTES",Q="SET_TOKEN",Y="SET_ROUTES",Z="SET_MENU_COLLAPSE";const Be={class:"app-main"},Me=v({setup(t){de(s=>({ef076376:e}));const e="red";return(s,o)=>{const n=_("router-view");return i(),m("div",Be,[c(n,null,{default:u(({Component:r})=>[c(pe,{name:"fade",mode:"out-in",appear:""},{default:u(()=>[(i(),g(fe,null,[(i(),g(me(r)))],1024))]),_:2},1024)]),_:1})])}}});var Ge=k(Me,[["__scopeId","data-v-07930f1b"]]);const Ke={class:"breadcrumb"},He=v({setup(t){const e=R(),s=M({leveList:[]}),o=n=>{const r=[];n.forEach((a,l)=>{if(l===0){if(a.path==="/dashboard")return!1;if(r.push({path:"/dashboard",title:"\u63A7\u5236\u9762\u677F"}),!a.meta||!a.meta.title)return!1;r.push({path:a.path,title:a.meta.title})}else r.push({path:a.path,title:a.meta.title})}),s.leveList=r};return o(e.matched),G(n=>{o(n.matched)}),K(n=>{o(n.matched)}),(n,r)=>{const a=_("el-breadcrumb-item"),l=_("el-breadcrumb");return i(),m("div",Ke,[c(l,{separator:"/"},{default:u(()=>[c(he,{name:"breadcrumb"},{default:u(()=>[(i(!0),m(S,null,H(y(s).leveList,(b,d)=>(i(),g(a,{key:d,to:{path:b.path}},{default:u(()=>[$(T(b.title),1)]),_:2},1032,["to"]))),128))]),_:1})]),_:1})])}}});const qe=v({props:{collapse:{type:Boolean}},emits:["emitMenuCollapse"],setup(t,{emit:e}){const s=t,o=()=>{e("emitMenuCollapse",!s.collapse)};return(n,r)=>{const a=_("el-icon");return i(),m("div",{class:"hamburger",onClick:o},[c(a,{class:C(["iconfont",s.collapse?"icon-indent":"icon-outdent"])},null,8,["class"])])}}});const ze={},We={class:"header-setting"};function Xe(t,e){const s=_("el-icon"),o=_("el-tooltip");return i(),m("div",We,[c(o,{class:"item",effect:"dark",content:"\u8BBE\u7F6E",placement:"bottom"},{default:u(()=>[c(s,{class:"iconfont icon-setting"})]),_:1})])}var Je=k(ze,[["render",Xe]]);const Qe=v({setup(t){const e=M({isScreenfull:!1}),s=()=>{if(A.toggle(),!e.isScreenfull)return!1;A.toggle()},o=()=>{e.isScreenfull=!e.isScreenfull};return A.on("change",o),(n,r)=>{const a=_("el-icon"),l=_("el-tooltip");return i(),m("div",{class:"screenfull",onClick:s},[c(l,{class:"item",effect:"dark",content:y(e).isScreenfull?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F",placement:"bottom"},{default:u(()=>[c(a,{class:C(["iconfont icon-fullscreen",y(e).isScreenfull?"icon-fullscreen-exit":"icon-fullscreen"])},null,8,["class"])]),_:1},8,["content"])])}}});var Ye="./assets/logo.c5afb018.png";const Ze={class:"header-avatar"},et=f("img",{src:Ye,alt:"logo"},null,-1),tt={href:"https://www.lpya.cn/",target:"_blank"},nt=$("\u4E2A\u4EBA\u4E2D\u5FC3"),st={href:"https://github.com/lpya/vue3-vite-elementplus-admin",target:"_blank"},ot=$("\u9879\u76EE\u5730\u5740"),rt=$("\u9000\u51FA\u767B\u9646"),at=v({setup(t){const e=ve(),s=R(),o=w(),n=l=>l.replace("/","");let r=n(s.fullPath);G(l=>{r=n(l.fullPath)}),K(l=>{r=n(l.fullPath)});const a=async()=>{await o.dispatch(X,!0)&&e.push(`/?redirect=${r}`)};return(l,b)=>{const d=_("el-dropdown-item"),h=_("el-dropdown-menu"),P=_("el-dropdown");return i(),m("div",Ze,[c(P,{"hide-on-click":!1,trigger:"click"},{dropdown:u(()=>[c(h,null,{default:u(()=>[f("a",tt,[c(d,null,{default:u(()=>[nt]),_:1})]),f("a",st,[c(d,null,{default:u(()=>[ot]),_:1})]),c(d,{divided:"",onClick:a},{default:u(()=>[rt]),_:1})]),_:1})]),default:u(()=>[et]),_:1})])}}});const ct={class:"navbar"},lt={class:"left"},it={class:"right"},ut=v({setup(t){const e=w(),s=L(()=>e.state.permission.menuCollapse),o=n=>{e.commit(Z,n)};return(n,r)=>(i(),m("div",ct,[f("div",lt,[c(qe,{onEmitMenuCollapse:o,collapse:y(s)},null,8,["collapse"]),c(He)]),f("div",it,[c(Je),c(Qe),c(at)])]))}}),_t=v({props:{list:null,isFirst:{type:Boolean}},setup(t){const e=t,s=o=>!o||o.length===0;return(o,n)=>{const r=_("el-icon"),a=_("el-menu-item"),l=_("SidebarItem",!0),b=_("el-sub-menu");return i(!0),m(S,null,H(e.list,d=>(i(),m(S,{key:d.path},[s(d.children)?(i(),g(a,{key:0,index:d.path},{title:u(()=>{var h;return[f("span",null,T((h=d.meta)==null?void 0:h.title),1)]}),default:u(()=>{var h;return[e.isFirst?(i(),g(r,{key:0,class:C(["iconfont",(h=d.meta)==null?void 0:h.icon])},null,8,["class"])):q("",!0)]}),_:2},1032,["index"])):(i(),g(b,{key:1,index:d.path},{title:u(()=>{var h,P;return[e.isFirst?(i(),g(r,{key:0,class:C(["iconfont",(h=d.meta)==null?void 0:h.icon])},null,8,["class"])):q("",!0),f("span",null,T((P=d.meta)==null?void 0:P.title),1)]}),default:u(()=>[c(l,{list:d.children,isFirst:!1},null,8,["list"])]),_:2},1032,["index"]))],64))),128)}}});const dt={class:"sidebar"},pt=v({props:{list:null,route:null,collapse:{type:Boolean}},setup(t){const e=t;return(s,o)=>{const n=_("el-menu");return i(),m("div",dt,[c(n,{"background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF","default-active":e.route,mode:"vertical",collapse:e.collapse,router:!0},{default:u(()=>[c(_t,{list:e.list,isFirst:!0},null,8,["list"])]),_:1},8,["default-active","collapse"])])}}});const mt={class:"layout"},ft={class:"layout-main"},ht={class:"layout-header"},vt={class:"layout-content"},Et=v({setup(t){const e=w(),s=R(),o=L(()=>e.state.permission.menuCollapse),n=L(()=>e.state.permission.accessRoutes);return(r,a)=>(i(),m("div",mt,[f("div",{class:"layout-menu",style:Ee({width:y(o)?"64px":"210px"})},[c(pt,{list:y(n),route:y(s).path,collapse:y(o)},null,8,["list","route","collapse"])],4),f("div",ft,[f("div",ht,[c(ut)]),f("div",vt,[c(Ge)])])]))}}),D={"../../views/attachment/Index.vue":()=>E(()=>import("./Index.c02498f4.js"),["assets/Index.c02498f4.js","assets/Index.4dda2203.css","assets/vendor.5583d224.js"]),"../../views/dashboard/Index.vue":()=>E(()=>import("./Index.63a7c4a1.js"),["assets/Index.63a7c4a1.js","assets/vendor.5583d224.js"]),"../../views/login/Index.vue":()=>E(()=>import("./Index.7b2936bf.js"),["assets/Index.7b2936bf.js","assets/Index.27f20a77.css","assets/vendor.5583d224.js"]),"../../views/redirect/Index.vue":()=>E(()=>import("./Index.75b0d59d.js"),[]),"../../views/nested/menu1-1/Index.vue":()=>E(()=>import("./Index.5ee6d190.js"),["assets/Index.5ee6d190.js","assets/Index.df7f1cac.css","assets/vendor.5583d224.js"]),"../../views/nested/menu1-2/Index.vue":()=>E(()=>import("./Index.44dff923.js"),["assets/Index.44dff923.js","assets/Index.d3427112.css","assets/vendor.5583d224.js"]),"../../views/nested/menu1-2/menu1-2-1/Index.vue":()=>E(()=>import("./Index.3edbd276.js"),["assets/Index.3edbd276.js","assets/Index.5c675b29.css","assets/vendor.5583d224.js"]),"../../views/nested/menu1-2/menu1-2-2/Index.vue":()=>E(()=>import("./Index.f8db7b39.js"),["assets/Index.f8db7b39.js","assets/Index.1766ce23.css","assets/vendor.5583d224.js"])},gt={accessRoutes:[],menuCollapse:!1},yt={[Y]:(t,e)=>{t.accessRoutes=e},[Z]:(t,e)=>{t.menuCollapse=e}},bt={[J]({commit:t},e){return new Promise(s=>{const o=[];let n=[];e.forEach(r=>{const a={path:`/${r.identifier}`,component:Et,children:[]};let l=!0;r.children&&r.children.length>0&&(l=!1,a.meta={title:r.title,icon:r.icon}),a.children=ee(r,r.identifier,l),I.addRoute(a),o.push(a),l?n=n.concat(a.children):n.push(a)}),I.options.routes=W.concat(o),t(Y,n),s(n)})}},xt={},It={state:gt,mutations:yt,actions:bt,getters:xt},ee=(t,e,s)=>{const o=[];if(t.children&&t.children.length>0)t.children.forEach(n=>{const r=te(e,n.identifier,n.url,s);n.children&&n.children.length>0?o.push({path:r.routePath,name:r.componentName,component:D[r.componentPath],meta:{title:n.title,icon:n.icon},children:ee(n,r.fatherName,!1)}):o.push({path:r.routePath,name:r.componentName,component:D[r.componentPath],meta:{title:n.title,icon:n.icon}})});else{const n=te(e,t.identifier,t.url,s);o.push({path:n.routePath,name:n.componentName,component:D[n.componentPath],meta:{title:t.title,icon:t.icon}})}return o},te=(t,e,s,o)=>{const n={fatherName:"",componentName:"",routePath:"",componentPath:""};return n.fatherName=Pt(t,e,o),n.routePath=Rt(t,s,o),n.componentPath=$t(n.fatherName),n.componentName=Ct(t,e),n},Pt=(t,e,s)=>s?t:`${t}/${e}`,$t=t=>`../../views/${t}/Index.vue`,Ct=(t,e)=>t===e?F(t.replace("/","")):F(t.replace("/",""))+F(e.replace("/","")),Rt=(t,e,s)=>s?`/${t}`:`/${t}${e}`,F=t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),N="Admin-Token";function ne(){return O.get(N)}function St(t){return O.set(N,t)}function Tt(){return O.remove(N)}const At={token:ne()},wt={[Q]:(t,e)=>{t.token=e}},Lt={[je]({commit:t},e){return new Promise(s=>{St(e.username),t(Q,e.username),s(e)})},[X]({commit:t},e){return new Promise(s=>{Tt(),s(e)})}},Ot={},kt={state:At,mutations:wt,actions:Lt,getters:Ot},Dt={},Ft={},Nt={},Ut={permission:It,user:kt};var se=ge({state:Dt,mutations:Ft,actions:Nt,modules:Ut});function Vt(t){const e="Vue3-Vite-ElementPlus-Admin";return t?`${t} - ${e}`:`${e}`}const jt=[{father:"sys.blog",identifier:"dashboard",title:"\u63A7\u5236\u9762\u677F",type:"menu",url:"/dashboard",icon:"icon-dashboard"},{father:"sys.blog",identifier:"nested",title:"\u5D4C\u5957\u8DEF\u7531",type:"menu",url:"/nested",icon:"icon-dashboard",children:[{father:"nested",identifier:"menu1-1",title:"\u83DC\u53551-1",type:"menu",url:"/menu1-1",icon:"icon-dashboard"},{father:"nested",identifier:"menu1-2",title:"\u83DC\u53551-2",type:"menu",url:"/menu1-2",icon:"icon-dashboard",children:[{father:"menu1-2",identifier:"menu1-2-1",title:"\u83DC\u53551-2-1",type:"menu",url:"/menu1-2-1",icon:"icon-dashboard"},{father:"menu1-2",identifier:"menu1-2-2",title:"\u83DC\u53551-2-2",type:"menu",url:"/menu1-2-2",icon:"icon-dashboard"}]}]},{father:"sys.blog",identifier:"attachment",title:"\u9644\u4EF6\u7BA1\u7406",type:"menu",url:"/attachment",icon:"icon-dashboard"}];x.configure({showSpinner:!1});const Bt=["/"];let oe=!0;I.beforeEach(async(t,e,s)=>{x.start(),document.title=Vt(String(t.meta.title));const o=t.path.replace("/","");if(ne())if(t.path==="/")s();else try{oe?(await se.dispatch(J,jt),s(B(j({},t),{replace:!0})),oe=!1):s()}catch{ye({message:"Has Error",type:"error"}),s(`/?redirect=${o}`),x.done()}else Bt.indexOf(t.path)!==-1?s():(s(`/?redirect=${o}`),x.done())});I.afterEach(()=>{x.done()});const p=be(Ne);p.use(xe);p.use(Ie);p.use(Pe);p.use($e);p.use(Ce);p.use(Re);p.use(Se);p.use(Te);p.use(Ae);p.use(we);p.use(Le);p.use(Oe);p.use(I);p.use(se);p.mount("#app");export{je as U,k as _};
