import{d as V,a as x,A as D,k as E,l as C,D as U,r,o as b,i as k,y as i,e as s,f as n,w as a,I as v,s as R,t as N}from"./vendor.072b5195.js";import{U as S}from"./index.3f27745d.js";const q=d=>["admin","editor"].indexOf(d.trim())>=0;const I={class:"login"},P={class:"content"},j=i("div",{class:"title"},"Vue3-Vite-ElementPlus-admin",-1),L={class:"loginbtn"},T=V({setup(d){var p;const c=x(),F=D(),w=E(),e=C({loginForm:{username:"admin",password:"123456"},loginRules:{username:[{required:!0,trigger:"blur",validator:(l,o,t)=>{if(!q(o))return t(new Error("\u8BF7\u8F93\u5165\u6B63\u786E\u7528\u6237\u540D"));t()}}],password:[{required:!0,trigger:"blur",validator:(l,o,t)=>{if(o.length<6)return t(new Error("\u5BC6\u7801\u81F3\u5C116\u4F4D\u6570"));t()}}]},loading:!1}),m=U(),_=(p=w.query.redirect)==null?void 0:p.toString(),B=async()=>{if(e.loading=!0,!await m.value.validate())return!1;await c.dispatch(S,e.loginForm)?(v({message:"\u767B\u9646\u6210\u529F",type:"success"}),e.loading=!1,F.push(_?`/${_}`:"/dashboard")):v({message:"\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF",type:"warning"})};return(l,o)=>{const t=r("el-icon"),f=r("el-input"),g=r("el-form-item"),y=r("el-form"),h=r("el-button");return b(),k("div",I,[i("div",P,[j,s(y,{ref_key:"loginForm",ref:m,"label-position":"left",model:n(e).loginForm,"status-icon":"",rules:n(e).loginRules},{default:a(()=>[s(g,{prop:"username"},{default:a(()=>[s(f,{placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",modelValue:n(e).loginForm.username,"onUpdate:modelValue":o[0]||(o[0]=u=>n(e).loginForm.username=u)},{prefix:a(()=>[s(t,{class:"el-input__icon iconfont icon-user"})]),_:1},8,["modelValue"])]),_:1}),s(g,{prop:"password"},{default:a(()=>[s(f,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",type:"password",modelValue:n(e).loginForm.password,"onUpdate:modelValue":o[1]||(o[1]=u=>n(e).loginForm.password=u)},{prefix:a(()=>[s(t,{class:"el-input__icon iconfont icon-lock-fill"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),i("div",L,[s(h,{type:"primary",onClick:B,loading:n(e).loading},{default:a(()=>[R(N(n(e).loading?"\u767B\u9646\u4E2D":"\u767B\u9646"),1)]),_:1},8,["loading"])])])])}}});export{T as default};
