(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5f9838a"],{"089b":function(e,t,n){},"27de":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tempalte"},[t("div",{attrs:{id:"container"}}),t("div",{ref:"Label",staticClass:"tips"},[t("div",[e._v("立方体"+e._s(e.selectBoxName))]),t("div",[e._v("长：2mm")]),t("div",[e._v("宽：2mm")]),t("div",[e._v("高：2mm")])])])},s=[],r=n("a2b2"),o=n("ba71"),d=n("4922"),l=n("5738"),a=n("5a2c");class c extends r["s"]{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}const h=new r["J"],m=new r["n"],u=new r["n"],w=new r["J"],p=new r["J"];class f{constructor(e={}){const t=this;let n,i,s,r;const o={objects:new WeakMap},d=void 0!==e.element?e.element:document.createElement("div");function l(e,n,i){if(e.isCSS2DObject){h.setFromMatrixPosition(e.matrixWorld),h.applyMatrix4(u);const l=!0===e.visible&&h.z>=-1&&h.z<=1&&!0===e.layers.test(i.layers);if(e.element.style.display=!0===l?"":"none",!0===l){e.onBeforeRender(t,n,i);const o=e.element;o.style.transform="translate(-50%,-50%) translate("+(h.x*s+s)+"px,"+(-h.y*r+r)+"px)",o.parentNode!==d&&d.appendChild(o),e.onAfterRender(t,n,i)}const c={distanceToCameraSquared:a(i,e)};o.objects.set(e,c)}for(let t=0,s=e.children.length;t<s;t++)l(e.children[t],n,i)}function a(e,t){return w.setFromMatrixPosition(e.matrixWorld),p.setFromMatrixPosition(t.matrixWorld),w.distanceToSquared(p)}function c(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}function f(e){const t=c(e).sort((function(e,t){if(e.renderOrder!==t.renderOrder)return t.renderOrder-e.renderOrder;const n=o.objects.get(e).distanceToCameraSquared,i=o.objects.get(t).distanceToCameraSquared;return n-i})),n=t.length;for(let i=0,s=t.length;i<s;i++)t[i].element.style.zIndex=n-i}d.style.overflow="hidden",this.domElement=d,this.getSize=function(){return{width:n,height:i}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),m.copy(t.matrixWorldInverse),u.multiplyMatrices(t.projectionMatrix,m),l(e,e,t),f(e)},this.setSize=function(e,t){n=e,i=t,s=n/2,r=i/2,d.style.width=e+"px",d.style.height=t+"px"}}}var b={data(){return{scene:null,camera:null,renderer:null,css2DRenderer:null,composer:null,label:null,selectBoxName:null}},mounted(){this.init()},beforeDestroy(){this.label.element.style.visibility="hidden",removeEventListener("click",this.clickFn)},methods:{init(){const e=document.getElementById("container");this.initScene(),this.initCamera(),this.initRenderer(e),this.initCube(),this.initOrbitControls(),this.initCSS2DRenderer(),this.initLabel(),this.animation(),addEventListener("click",this.clickFn),window.addEventListener("resize",this.onWindowResize)},initScene(){this.scene=new r["C"],this.scene.background=new r["f"]("#000000")},initCamera(){this.camera=new r["u"](75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(0,0,10)},initRenderer(e){this.renderer=new r["L"]({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),e.appendChild(this.renderer.domElement)},initCube(){const e=new r["c"](2,2,2),t=new r["p"]({color:"#00ffff"});let n=new r["o"](e,t);for(let i=0;i<3;i++){let t=new r["h"](e,1),s=new r["k"]({color:"#ffffff",linewidth:3}),o=new r["l"](t,s),d=n.clone();d.name="cube"+i,d.position.x=3*(i-1),d.add(o),this.scene.add(d)}},initOutlinePass(e){if(!e)return void(this.composer=null);let t=new d["a"](this.scene,this.camera),n=new l["a"](new r["I"](window.innerWidth,window.innerHeight),this.scene,this.camera,[e]);n.renderToScreen=!0,n.edgeGlow=1,n.usePatternTexture=!1,n.edgeThickness=2,n.edgeStrength=6,n.pulsePeriod=2,n.visibleEdgeColor.set("#ff0000"),n.hiddenEdgeColor.set("#ffff00"),this.composer=new a["a"](this.renderer),this.composer.addPass(t),this.composer.addPass(n)},initOrbitControls(){let e=new o["a"](this.camera,this.renderer.domElement);e.maxDistance=15,e.addEventListener("change",this.render)},initCSS2DRenderer(){this.css2DRenderer=new f,this.css2DRenderer.setSize(window.innerWidth,window.innerHeight),this.css2DRenderer.domElement.style.position="absolute",this.css2DRenderer.domElement.style.top="-150px",this.css2DRenderer.domElement.style.left="0px",this.css2DRenderer.domElement.style.pointerEvents="none",document.body.appendChild(this.css2DRenderer.domElement)},getCSS2DObject(e){let t=new c(e);return e.style.pointerEvents="none",t},render(){this.renderer.render(this.scene,this.camera),this.composer&&this.composer.render(),this.css2DRenderer&&this.css2DRenderer.render(this.scene,this.camera)},onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},animation(){this.render(),requestAnimationFrame(this.animation)},initLabel(){let e=this.$refs.Label;e.style.visibility="hidden",this.label=this.getCSS2DObject(e),this.scene.add(this.label)},clickFn(e){let t=this.raycaster(e,this.scene.children);if(t.length<=0)return;let n=null;if(t.forEach(e=>{"Mesh"===e.object.type&&(n||(n=e.object))}),!n)return this.initOutlinePass(!1),void(this.label.element.style.visibility="hidden");this.initOutlinePass(n),this.selectBoxName=n.name,this.label.element.style.visibility="visible",this.label.position.copy(n.position)},raycaster(e,t){let n=e.clientX/window.innerWidth*2-1,i=-e.clientY/window.innerHeight*2+1,s=new r["A"];return s.setFromCamera(new r["I"](n,i),this.camera),s.intersectObjects(t)}}},v=b,y=(n("50ec"),n("e607")),x=Object(y["a"])(v,i,s,!1,null,"206d8d7c",null);t["default"]=x.exports},"50ec":function(e,t,n){"use strict";n("089b")}}]);
//# sourceMappingURL=chunk-f5f9838a.5c77197b.js.map