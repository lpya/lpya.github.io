{"version":3,"sources":["webpack:///./src/views/CSS2DRenderer.vue","webpack:///./node_modules/_three@0.149.0@three/examples/jsm/renderers/CSS2DRenderer.js","webpack:///src/views/CSS2DRenderer.vue","webpack:///./src/views/CSS2DRenderer.vue?ca55","webpack:///./src/views/CSS2DRenderer.vue?0f29","webpack:///./src/views/CSS2DRenderer.vue?aec4"],"names":["render","_vm","this","_c","_self","staticClass","attrs","ref","_v","_s","selectBoxName","staticRenderFns","element","document","createElement","super","isCSS2DObject","style","position","userSelect","setAttribute","addEventListener","traverse","object","Element","parentNode","removeChild","source","recursive","copy","cloneNode","_vector","_viewMatrix","_viewProjectionMatrix","_a","_b","CSS2DRenderer","parameters","_this","_width","_height","_widthHalf","_heightHalf","cache","objects","WeakMap","domElement","undefined","renderObject","scene","camera","setFromMatrixPosition","matrixWorld","applyMatrix4","visible","z","layers","test","display","onBeforeRender","transform","x","y","appendChild","onAfterRender","objectData","distanceToCameraSquared","getDistanceToSquared","set","i","l","children","length","object1","object2","distanceToSquared","filterAndFlatten","result","push","zOrder","sorted","sort","a","b","renderOrder","distanceA","get","distanceB","zMax","zIndex","overflow","getSize","width","height","matrixWorldAutoUpdate","updateMatrixWorld","parent","matrixWorldInverse","multiplyMatrices","projectionMatrix","setSize","data","renderer","css2DRenderer","composer","label","mounted","beforeDestroy","removeEventListener","methods","init","window","initScene","initCamera","initRenderer","antialias","el","initCube","color","linewidth","newCube","initOutlinePass","outlinePass","initOrbitControls","controls","initCSS2DRenderer","getCSS2DObject","domEle","onWindowResize","animation","requestAnimationFrame","initLabel","labelDomEle","clickFn","material","selectBoxObj","raycaster","component"],"mappings":"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","file":"js/chunk-f5f9838a.5c77197b.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tempalte\"},[_c('div',{attrs:{\"id\":\"container\"}}),_c('div',{ref:\"Label\",staticClass:\"tips\"},[_c('div',[_vm._v(\"立方体\"+_vm._s(_vm.selectBoxName))]),_c('div',[_vm._v(\"长：2mm\")]),_c('div',[_vm._v(\"宽：2mm\")]),_c('div',[_vm._v(\"高：2mm\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {\n\tMatrix4,\n\tObject3D,\n\tVector3\n} from 'three';\n\nclass CSS2DObject extends Object3D {\n\n\tconstructor( element = document.createElement( 'div' ) ) {\n\n\t\tsuper();\n\n\t\tthis.isCSS2DObject = true;\n\n\t\tthis.element = element;\n\n\t\tthis.element.style.position = 'absolute';\n\t\tthis.element.style.userSelect = 'none';\n\n\t\tthis.element.setAttribute( 'draggable', false );\n\n\t\tthis.addEventListener( 'removed', function () {\n\n\t\t\tthis.traverse( function ( object ) {\n\n\t\t\t\tif ( object.element instanceof Element && object.element.parentNode !== null ) {\n\n\t\t\t\t\tobject.element.parentNode.removeChild( object.element );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.element = source.element.cloneNode( true );\n\n\t\treturn this;\n\n\t}\n\n}\n\n//\n\nconst _vector = new Vector3();\nconst _viewMatrix = new Matrix4();\nconst _viewProjectionMatrix = new Matrix4();\nconst _a = new Vector3();\nconst _b = new Vector3();\n\nclass CSS2DRenderer {\n\n\tconstructor( parameters = {} ) {\n\n\t\tconst _this = this;\n\n\t\tlet _width, _height;\n\t\tlet _widthHalf, _heightHalf;\n\n\t\tconst cache = {\n\t\t\tobjects: new WeakMap()\n\t\t};\n\n\t\tconst domElement = parameters.element !== undefined ? parameters.element : document.createElement( 'div' );\n\n\t\tdomElement.style.overflow = 'hidden';\n\n\t\tthis.domElement = domElement;\n\n\t\tthis.getSize = function () {\n\n\t\t\treturn {\n\t\t\t\twidth: _width,\n\t\t\t\theight: _height\n\t\t\t};\n\n\t\t};\n\n\t\tthis.render = function ( scene, camera ) {\n\n\t\t\tif ( scene.matrixWorldAutoUpdate === true ) scene.updateMatrixWorld();\n\t\t\tif ( camera.parent === null && camera.matrixWorldAutoUpdate === true ) camera.updateMatrixWorld();\n\n\t\t\t_viewMatrix.copy( camera.matrixWorldInverse );\n\t\t\t_viewProjectionMatrix.multiplyMatrices( camera.projectionMatrix, _viewMatrix );\n\n\t\t\trenderObject( scene, scene, camera );\n\t\t\tzOrder( scene );\n\n\t\t};\n\n\t\tthis.setSize = function ( width, height ) {\n\n\t\t\t_width = width;\n\t\t\t_height = height;\n\n\t\t\t_widthHalf = _width / 2;\n\t\t\t_heightHalf = _height / 2;\n\n\t\t\tdomElement.style.width = width + 'px';\n\t\t\tdomElement.style.height = height + 'px';\n\n\t\t};\n\n\t\tfunction renderObject( object, scene, camera ) {\n\n\t\t\tif ( object.isCSS2DObject ) {\n\n\t\t\t\t_vector.setFromMatrixPosition( object.matrixWorld );\n\t\t\t\t_vector.applyMatrix4( _viewProjectionMatrix );\n\n\t\t\t\tconst visible = ( object.visible === true ) && ( _vector.z >= - 1 && _vector.z <= 1 ) && ( object.layers.test( camera.layers ) === true );\n\t\t\t\tobject.element.style.display = ( visible === true ) ? '' : 'none';\n\n\t\t\t\tif ( visible === true ) {\n\n\t\t\t\t\tobject.onBeforeRender( _this, scene, camera );\n\n\t\t\t\t\tconst element = object.element;\n\n\t\t\t\t\telement.style.transform = 'translate(-50%,-50%) translate(' + ( _vector.x * _widthHalf + _widthHalf ) + 'px,' + ( - _vector.y * _heightHalf + _heightHalf ) + 'px)';\n\n\t\t\t\t\tif ( element.parentNode !== domElement ) {\n\n\t\t\t\t\t\tdomElement.appendChild( element );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobject.onAfterRender( _this, scene, camera );\n\n\t\t\t\t}\n\n\t\t\t\tconst objectData = {\n\t\t\t\t\tdistanceToCameraSquared: getDistanceToSquared( camera, object )\n\t\t\t\t};\n\n\t\t\t\tcache.objects.set( object, objectData );\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = object.children.length; i < l; i ++ ) {\n\n\t\t\t\trenderObject( object.children[ i ], scene, camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction getDistanceToSquared( object1, object2 ) {\n\n\t\t\t_a.setFromMatrixPosition( object1.matrixWorld );\n\t\t\t_b.setFromMatrixPosition( object2.matrixWorld );\n\n\t\t\treturn _a.distanceToSquared( _b );\n\n\t\t}\n\n\t\tfunction filterAndFlatten( scene ) {\n\n\t\t\tconst result = [];\n\n\t\t\tscene.traverse( function ( object ) {\n\n\t\t\t\tif ( object.isCSS2DObject ) result.push( object );\n\n\t\t\t} );\n\n\t\t\treturn result;\n\n\t\t}\n\n\t\tfunction zOrder( scene ) {\n\n\t\t\tconst sorted = filterAndFlatten( scene ).sort( function ( a, b ) {\n\n\t\t\t\tif ( a.renderOrder !== b.renderOrder ) {\n\n\t\t\t\t\treturn b.renderOrder - a.renderOrder;\n\n\t\t\t\t}\n\n\t\t\t\tconst distanceA = cache.objects.get( a ).distanceToCameraSquared;\n\t\t\t\tconst distanceB = cache.objects.get( b ).distanceToCameraSquared;\n\n\t\t\t\treturn distanceA - distanceB;\n\n\t\t\t} );\n\n\t\t\tconst zMax = sorted.length;\n\n\t\t\tfor ( let i = 0, l = sorted.length; i < l; i ++ ) {\n\n\t\t\t\tsorted[ i ].element.style.zIndex = zMax - i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nexport { CSS2DObject, CSS2DRenderer };\n","<template>\r\n  <div class=\"tempalte\">\r\n    <div id=\"container\"></div>\r\n    <div ref=\"Label\" class=\"tips\">\r\n      <div>立方体{{ selectBoxName }}</div>\r\n      <div>长：2mm</div>\r\n      <div>宽：2mm</div>\r\n      <div>高：2mm</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\r\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\r\nimport {\r\n  CSS2DRenderer,\r\n  CSS2DObject\r\n} from 'three/examples/jsm/renderers/CSS2DRenderer.js';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      scene: null, // 场景\r\n      camera: null, // 相机\r\n      renderer: null, // 渲染器\r\n      css2DRenderer: null, // 2D渲染器\r\n      composer: null, // 效果合成器\r\n      label: null, // label标签\r\n      selectBoxName: null\r\n    };\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  beforeDestroy() {\r\n    this.label.element.style.visibility = 'hidden';\r\n    removeEventListener('click', this.clickFn)\r\n  },\r\n  methods: {\r\n    // 初始化\r\n    init() {\r\n      const el = document.getElementById('container');\r\n      this.initScene();\r\n      this.initCamera();\r\n      this.initRenderer(el);\r\n      this.initCube();\r\n      this.initOrbitControls();\r\n      this.initCSS2DRenderer();\r\n      this.initLabel();\r\n      this.animation();\r\n      addEventListener('click', this.clickFn);\r\n      window.addEventListener('resize', this.onWindowResize);\r\n    },\r\n    // 场景\r\n    initScene() {\r\n      this.scene = new THREE.Scene();\r\n      this.scene.background = new THREE.Color('#000000');\r\n    },\r\n    // 相机\r\n    initCamera() {\r\n      this.camera = new THREE.PerspectiveCamera(\r\n        75,\r\n        window.innerWidth / window.innerHeight,\r\n        0.1,\r\n        1000\r\n      );\r\n      this.camera.position.set(0, 0, 10);\r\n    },\r\n    // 渲染器\r\n    initRenderer(el) {\r\n      this.renderer = new THREE.WebGLRenderer({\r\n        antialias: true\r\n      });\r\n      this.renderer.setPixelRatio(window.devicePixelRatio);\r\n\r\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n      el.appendChild(this.renderer.domElement);\r\n    },\r\n    // 立方体\r\n    initCube() {\r\n      const geometry = new THREE.BoxGeometry(2, 2, 2);\r\n      const material = new THREE.MeshBasicMaterial({ color: '#00ffff' });\r\n      let cube = new THREE.Mesh(geometry, material);\r\n      for (let i = 0; i < 3; i++) {\r\n        // 添加边框\r\n        let cubesEdges = new THREE.EdgesGeometry(geometry, 1);\r\n        let edgesMtl = new THREE.LineBasicMaterial({\r\n          color: '#ffffff',\r\n          linewidth: 3\r\n        });\r\n        let cubesLine = new THREE.LineSegments(cubesEdges, edgesMtl);\r\n\r\n        let newCube = cube.clone();\r\n        newCube.name = `cube${i}`;\r\n        newCube.position.x = (i - 1) * 3;\r\n        newCube.add(cubesLine);\r\n        this.scene.add(newCube);\r\n      }\r\n    },\r\n    // 呼吸光\r\n    initOutlinePass(materialObj) {\r\n      if (!materialObj) {\r\n        this.composer = null\r\n        return\r\n      }\r\n      let renderScene = new RenderPass(this.scene, this.camera);\r\n      let outlinePass = new OutlinePass(\r\n        new THREE.Vector2(window.innerWidth, window.innerHeight),\r\n        this.scene,\r\n        this.camera,\r\n        [materialObj]\r\n      );\r\n      // 将此通道结果渲染到屏幕\r\n      outlinePass.renderToScreen = true;\r\n      outlinePass.edgeGlow = 1; // 发光强度\r\n      outlinePass.usePatternTexture = false; // 是否使用纹理图案\r\n      outlinePass.edgeThickness = 2; // 边缘浓度\r\n      outlinePass.edgeStrength = 6; // 边缘的强度，值越高边框范围越大\r\n      outlinePass.pulsePeriod = 2; // 闪烁频率，值越大频率越低\r\n      outlinePass.visibleEdgeColor.set('#ff0000'); // 呼吸显示的颜色\r\n      outlinePass.hiddenEdgeColor.set('#ffff00'); // 不可见边缘的颜色\r\n      // 将通道加入组合器\r\n      this.composer = new EffectComposer(this.renderer);\r\n      this.composer.addPass(renderScene);\r\n      this.composer.addPass(outlinePass);\r\n    },\r\n    // 缩放\r\n    initOrbitControls() {\r\n      let controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n      controls.maxDistance = 15;\r\n      controls.addEventListener('change', this.render);\r\n    },\r\n    // 2D渲染器\r\n    initCSS2DRenderer() {\r\n      this.css2DRenderer = new CSS2DRenderer();\r\n      this.css2DRenderer.setSize(window.innerWidth, window.innerHeight);\r\n      this.css2DRenderer.domElement.style.position = 'absolute';\r\n      this.css2DRenderer.domElement.style.top = '-150px';\r\n      this.css2DRenderer.domElement.style.left = '0px';\r\n      this.css2DRenderer.domElement.style.pointerEvents = 'none';\r\n      document.body.appendChild(this.css2DRenderer.domElement);\r\n    },\r\n    // 获取dom\r\n    getCSS2DObject(domEle) {\r\n      let label = new CSS2DObject(domEle);\r\n      domEle.style.pointerEvents = 'none';\r\n      return label;\r\n    },\r\n    // 渲染\r\n    render() {\r\n      this.renderer.render(this.scene, this.camera);\r\n      if (this.composer) {\r\n        this.composer.render();\r\n      }\r\n      if (this.css2DRenderer) {\r\n        this.css2DRenderer.render(this.scene, this.camera);\r\n      }\r\n    },\r\n    // 自适应\r\n    onWindowResize() {\r\n      this.camera.aspect = window.innerWidth / window.innerHeight;\r\n      this.camera.updateProjectionMatrix();\r\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n    },\r\n    // 动画帧\r\n    animation() {\r\n      this.render();\r\n      requestAnimationFrame(this.animation);\r\n    },\r\n    // 标签\r\n    initLabel() {\r\n      let labelDomEle = this.$refs.Label;\r\n      labelDomEle.style.visibility = 'hidden';\r\n      this.label = this.getCSS2DObject(labelDomEle);\r\n      this.scene.add(this.label);\r\n    },\r\n    // 点击事件\r\n    clickFn(event) {\r\n      let material = this.raycaster(event, this.scene.children);\r\n      if (material.length <= 0) {\r\n        return;\r\n      }\r\n      let selectBoxObj = null;\r\n      material.forEach((item) => {\r\n        if (item.object.type === 'Mesh') {\r\n          if (!selectBoxObj) {\r\n            selectBoxObj = item.object;\r\n          }\r\n        }\r\n      });\r\n      if (!selectBoxObj) {\r\n        this.initOutlinePass(false)\r\n        this.label.element.style.visibility = 'hidden';\r\n        return;\r\n      }\r\n      this.initOutlinePass(selectBoxObj);\r\n      this.selectBoxName = selectBoxObj.name\r\n      this.label.element.style.visibility = 'visible';\r\n      this.label.position.copy(selectBoxObj.position);\r\n    },\r\n    // 射线拾取\r\n    raycaster(event, geometrys) {\r\n      let x = (event.clientX / window.innerWidth) * 2 - 1;\r\n      let y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n      let raycaster = new THREE.Raycaster();\r\n      raycaster.setFromCamera(new THREE.Vector2(x, y), this.camera);\r\n      return raycaster.intersectObjects(geometrys);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang='scss' scoped>\r\n.tips {\r\n  visibility: hidden;\r\n  width: 200px;\r\n  height: 100px;\r\n  background-color: #a6f7f7;\r\n  border: 1px solid #fff;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  div{\r\n    margin-bottom: 4px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./CSS2DRenderer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./CSS2DRenderer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CSS2DRenderer.vue?vue&type=template&id=206d8d7c&scoped=true&\"\nimport script from \"./CSS2DRenderer.vue?vue&type=script&lang=js&\"\nexport * from \"./CSS2DRenderer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CSS2DRenderer.vue?vue&type=style&index=0&id=206d8d7c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"206d8d7c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./CSS2DRenderer.vue?vue&type=style&index=0&id=206d8d7c&prod&lang=scss&scoped=true&\""],"sourceRoot":""}